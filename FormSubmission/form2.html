<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!--jQuery-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<!-- Bootstrap Font Icon CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<!--toastr-->
<link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>
<!--moment-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.js"></script>
      

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<!--TITLE AND DESCRIPTION OF FORM-->
<h1 style="color: red; margin-left: 15px">Bootstrap Booking Form:</h1>

<div class="well" style="margin-left:10px; margin-right:10px">Fill out the form and click the submit button when complete...</div>


<!--FORM-->
<form id="bookingForm">
<div class="row">
   <div class="col-xs-6">
    <!--USER PANEL-->
    <div class="panel panel-primary" style="margin-left:10px">
        <div class="panel-heading font-weight-bold">User: </div>
            <div class="panel-body">
                <div class="row">
                    <label for="username" class="col-sm-2 col-form-label">Username:</label>
                    <div class="col-sm-10" id="userDiv">
                        <input type="text" class="form-control input-field" id="username" placeholder="Type username...">
                    </div>
                </div>
                <div class="row">
                    <label for="firstname" class="col-sm-2 col-form-label">First Name:</label>
                    <div class="col-sm-10" id="firstDiv">
                        <input type="text" class="form-control" id="firstname" placeholder="Type first name...">
                    </div>
                </div>
                <div class="row">
                    <label for="lastname" class="col-sm-2 col-form-label">Last Name:</label>
                    <div class="col-sm-10" id="lastDiv">
                        <input type="text" class="form-control" id="lastname" placeholder="Type last name...">
                    </div>
                </div>
            </div>
        </div>

        <!--CONTACT PANEL-->
        <div class="panel panel-primary" style="margin-left:10px">
            <div class="panel-heading font-weight-bold">Contact: </div>
                <div class="panel-body form-group">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="input-group" id="phoneDiv">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                <input id="phone" type="text" class="form-control" name="phone" placeholder="Type phone#...">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="input-group" id="faxDiv">
                                <span class="input-group-addon"><i class="fa fa-fax"></i></span>
                                <input id="fax" type="text" class="form-control" name="fax" placeholder="Type fax#...">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="input-group" id="emailDiv">
                                <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                                <input id="email" type="text" class="form-control" name="email" placeholder="Type e-mail...">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--SCHEDULE PANEL-->
            <div class="panel panel-primary" style="margin-left:10px">
                <div class="panel-heading font-weight-bold">Schedule:</div>
                <div class="panel-body form-group">
                    <div class="row">
                        <label for="numAdults" class="col-sm-4 col-form-label font-weight-bold">Adults:</label>
                        <div class="col-sm-12">
                            <select class="form-control" id="numAdults">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                              </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group col-sm-6">
                          <label for="checkInDate">Check-In:</label>
                          <input type="date" class="form-control" id="checkInDate">
                        </div>
                        <div class="form-group col-sm-6">
                          <label for="checkOutDate">Check-Out:</label>
                          <input type="date" class="form-control" id="checkOutDate">
                        </div>
                    </div>
                    
                    <!--DAY CALCULATION SCRIPT-->

                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label for="days">Days:</label>
                            <input class="form-control" type="text" id="days" name="days" placeholder="Displays days..." value="" readonly required>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="cost">Cost($):</label>
                            <input class="form-control" type="text" id="cost" name="cost" placeholder="Displays cost..." readonly required>
                        </div>
                    </div>
                </div>
            </div>
        </div>

             <!--OTHER PANEL-->
        <div class="col-xs-6">
            <div class="panel panel-primary" style="margin-right:10px">
                <div class="panel-heading font-weight-bold">Other:</div>
                    <div class="panel-body">
                        <div class="col">
                            <label class="col-8 col-form-label font-weight-bold" for="message">Message:</label>
                                <div class="col-12">
                                    <textarea class="text-area text-box multi-line w-auto" id="message" name="message" rows="25"></textarea>
                                </div>
                        </div>
                        <div class="col">
                            <label class="col-8 form-label font-weight-bold" for="range">Range:</label>
                            <div class="col-12 range">
                                <input type="range" class="form-range w-100" min="0" max="10" step="1" id="range" />
                            </div>
                        </div>

                        <label class="col-8 form-label font-weight-bold">Priority:</label>
                        <div class="col-8">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="priority" id="lowPriority" value="low">
                                <label class="form-check-label" for="lowPriority">Low</label>
                                <input class="form-check-input" type="radio" name="priority" id="medPriority" value="med">
                                <label class="form-check-label" for="medPriority">Med</label>
                                <input class="form-check-input" type="radio" name="priority" id="highPriority" value="high">
                                <label class="form-check-label" for="highPriority">High</label>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
</div>

<hr class="hr" />

<!--SUBMIT AND RESET BUTTONS-->
<div class="text-right" style="margin-right:10px">
    <button type="reset" name="reset" id="reset" class="btn btn-primary" style="width: 12%; margin-right:15px"><i class="fa fa-eraser"></i> Reset</button>
    <button name="submit" id="submit" class="btn btn-success" onclick="validateForm(); return false;" style="width: 12%"><i class="fa fa-paper-plane"></i> Submit</button>
    <!-- <button onclick="validateForm(); return false;" id="submitBtn" name="submitBtn" class="btn btn-success" style="width: 12%"><i class="fa fa-paper-plane"></i> Submit</button> -->
</div>
</form>

<!--TOASTR SCRIPT-->
<div>
    <script type="text/javascript">
        $(document).ready(function() {
          toastr.options.timeOut = 1500; // 1.5s
          $('#reset').click(function() {
             toastr.info('Form has been reset.');
          });
        });

        //FORM VALIDATION
        function validateForm() {
            let error = false;

            if(document.getElementById("username").value==null || document.getElementById("username").value=="") {
                $("#userDiv").addClass("has-error");

                toastr.options.timeOut = 1500;
                toastr.error("Please enter a username.");
                error = true;
            } else {
                $("#userDiv").removeClass("has-error");
            }

            if(document.getElementById("firstname").value==null || document.getElementById("firstname").value=="") {
                $("#firstDiv").addClass("has-error");

                toastr.options.timeOut = 1500;
                toastr.error("Please enter your first name.")
                error = true;
            } else {
                $("#firstDiv").removeClass("has-error");
            }

            if(document.getElementById("lastname").value==null || document.getElementById("lastname").value=="") {
                $("#lastDiv").addClass("has-error");

                toastr.options.timeOut = 1500;
                toastr.error("Please enter your last name.")
                error = true;
            } else {
                $("#lastDiv").removeClass("has-error");
            }

            if(document.getElementById("phone").value==null || document.getElementById("phone").value=="") {
                $("#phoneDiv").addClass("has-error");

                toastr.options.timeOut = 1500;
                toastr.error("Please enter a phone number.")
                error = true;
            } else {
                $("#phoneDiv").removeClass("has-error");
            }

            if(document.getElementById("fax").value==null || document.getElementById("fax").value=="") {
                $("#faxDiv").addClass("has-error");

                toastr.options.timeOut = 1500;
                toastr.error("Please enter a fax number.")
                error = true;
            } else {
                $("#faxDiv").removeClass("has-error");
            }

            if(document.getElementById("email").value==null || document.getElementById("email").value=="") {
                $("#emailDiv").addClass("has-error");

                toastr.options.timeOut = 1500;
                toastr.error("Please enter an email address.")
                error = true;
            } else {
                $("#emailDiv").removeClass("has-error");
            }

            if(document.getElementById("cost").value==null || document.getElementById("cost").value=="") {
                toastr.options.timeout = 1500;
                toastr.error("No cost for the trip was calculated. Please try again.")
                error = true;
            } else if(document.getElementById("cost").value < 0) {
                toastr.options.timeout = 1500;
                toastr.error("Cost is negative. Please try again.")
            }

            if(error == false) {
                toastr.options.timeout = 1500;
                toastr.success("Form was successfully submitted.")
            }
        }
    </script>
</div>

<script>
    //SCRIPT FOR NUMBER OF DAYS
    moment().format();
    document.getElementById("checkOutDate").addEventListener("input", getNumberOfDays);
    document.getElementById("checkInDate").addEventListener("input", getNumberOfDays);
    function getNumberOfDays() {
        let startDate = moment(document.getElementById("checkInDate").value);
        let endDate = moment(document.getElementById("checkOutDate").value);
        let numOfDays = endDate.diff(startDate,'days');
        document.getElementById("days").value = numOfDays;
        getCost();
    }
    //SCRIPT FOR COST
    function getCost() {
        let numAdults = Number(document.getElementById("numAdults").value);
        let days = Number(document.getElementById("days").value);
        let cost = 150 * numAdults * days;
        document.getElementById("cost").value = cost;
    }

    //SCRIPT FOR ERROR MESSAGING
    // $('.input-field input').keyup(function(){
    //     if($(this).val()){
    //         $(this).parent().find('label').removeClass("has-error");
    //     }else{
    //         $(this).parent().find('label').addClass("has-error");
    //         }
    // });
    </script>